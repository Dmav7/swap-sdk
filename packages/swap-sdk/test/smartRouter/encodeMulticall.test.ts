import { encodeMulticall } from '../../src/smartRouter/encodeMulticall'

// helpers.setRecording(true);

const singleV2SwapCalldata = [
  '0x472b43f30000000000000000000000000000000000000000000000000000000000124f800000000000000000000000000000000000000000000026c3fac85c025552db7b000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000321106e51b78e0e9cebcfec63c5250f0f3ccb82b000000000000000000000000904bd5a5aac0b9d88a0d47864724218986ad4a3a',
]

describe('encodeMulticall', () => {
  it('encodes single v2 swap calldata', async () => {
    expect(encodeMulticall(singleV2SwapCalldata)).toBe(
      '0xac9650d800000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000e4472b43f30000000000000000000000000000000000000000000000000000000000124f800000000000000000000000000000000000000000000026c3fac85c025552db7b000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000321106e51b78e0e9cebcfec63c5250f0f3ccb82b000000000000000000000000904bd5a5aac0b9d88a0d47864724218986ad4a3a00000000000000000000000000000000000000000000000000000000',
    )
  })

  it('encodes single v2 swap calldata with deadlineOrPreviousBlockhash', async () => {
    expect(encodeMulticall(singleV2SwapCalldata, 1740379394n)).toBe(
      '0x5ae401dc0000000000000000000000000000000000000000000000000000000067bc150200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000e4472b43f30000000000000000000000000000000000000000000000000000000000124f800000000000000000000000000000000000000000000026c3fac85c025552db7b000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000321106e51b78e0e9cebcfec63c5250f0f3ccb82b000000000000000000000000904bd5a5aac0b9d88a0d47864724218986ad4a3a00000000000000000000000000000000000000000000000000000000',
    )
  })
})
